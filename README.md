# Kiro Kiro Puzzle Game

> **Kiro AI アシスタントで作成** - このプロジェクトは、コードアーキテクチャ、実装、テスト、ドキュメント作成を支援するAI開発アシスタント「Kiro」を使用して開発されました。

PythonとPyxelで構築されたぷよぷよスタイルのパズルゲーム。カラフルな落下ブロック、連鎖反応、魅力的なゲームプレイメカニクスを特徴としています。

![Game Screenshot](https://img.shields.io/badge/Python-3.7+-blue.svg)
![Pyxel](https://img.shields.io/badge/Pyxel-1.4.0+-green.svg)
![License](https://img.shields.io/badge/License-MIT-yellow.svg)

## 🎮 ゲーム機能

- **クラシックなぷよぷよゲームプレイ**: 色付きのぷよを落として配置し、連鎖を作成
- **連鎖システム**: 同色のぷよを4つ以上つなげて消去し、連鎖反応を引き起こす
- **音響システム**: 没入感のあるゲームプレイのためのBGMと効果音
- **スムーズな操作**: レスポンシブな移動、回転、高速落下メカニクス
- **スコアシステム**: ぷよの消去と連鎖作成でポイントを獲得
- **ゲームオーバー判定**: プレイフィールドが満杯になった時の自動検出

## 🕹️ 操作方法

| キー | 動作 |
|-----|--------|
| ← → | ぷよペアを左右に移動 |
| ↑ / X | 時計回りに回転 |
| Z | 反時計回りに回転 |
| ↓ | 高速落下 |
| R | ゲーム再開始 |

## 🚀 クイックスタート

### 必要な環境

- Python 3.7以上
- Pyxel 1.4.0以上

### インストール

1. リポジトリをクローン:
```bash
git clone https://github.com/yourusername/kiro-kiro-puzzle-game.git
cd kiro-kiro-puzzle-game
```

2. Pyxelをインストール:
```bash
pip install pyxel
```

### ゲームの実行

#### 開発モード
```bash
python main.py
```

#### パッケージ版
1. パッケージを作成:
```bash
python create_package.py
```

2. パッケージ化されたゲームを実行:
```bash
python -m pyxel play package_build/kirokiro.pyxapp
```

## 🏗️ プロジェクト構造

```
kiro-kiro-puzzle-game/
├── src/                    # ソースコード
│   ├── game.py            # メインゲームクラス
│   ├── puyo.py            # ぷよ（ブロック）の実装
│   ├── playfield.py       # ゲームフィールド管理
│   ├── game_systems.py    # コアゲームメカニクス
│   ├── ui_renderer.py     # グラフィックスとUI
│   ├── audio_manager.py   # サウンドと音楽
│   └── ...                # その他のゲームモジュール
├── tests/                  # ユニットテスト
├── .kiro/                 # Kiro AIアシスタント設定
├── main.py                # ゲームエントリーポイント
├── create_package.py      # パッケージ化スクリプト
└── README.md              # このファイル
```

## 🎯 ゲームルール

1. **目的**: 同じ色のぷよを4つ以上つなげて消去する
2. **落下ペア**: 上から落ちてくるぷよのペアを操作する
3. **連鎖反応**: ぷよが消去されると、残りのぷよが落下して新しい接続を作る
4. **スコア**: ぷよの消去でポイントを獲得、連鎖反応でボーナスポイント
5. **ゲームオーバー**: 新しいぷよが上部に配置できなくなるとゲーム終了

## 🔧 開発

### アーキテクチャ

ゲームは関心の分離を明確にしたモジュラーアーキテクチャに従っています：

- **ゲームループ**: メインの `KiroKiroGame` クラスで管理
- **入力処理**: レスポンシブな操作のための専用 `InputHandler`
- **ゲームロジック**: 落下、消去、重力、連鎖の個別システム
- **レンダリング**: 全グラフィックスの集中管理 `UIRenderer`
- **音響**: 音楽と効果音の `AudioManager`

### テスト

テストスイートを実行:
```bash
python run_all_tests.py
```

### ビルド

プロジェクトには自動パッケージ化システムが含まれています:
```bash
python create_package.py
```

これにより、ソースコードなしで配布・実行可能なスタンドアロンの `.pyxapp` ファイルが作成されます。

## 🎨 技術的ハイライト

- **衝突判定**: ぷよの配置と移動のための洗練されたシステム
- **連鎖検出**: 接続されたぷよグループを見つける再帰アルゴリズム
- **重力システム**: ぷよのリアルな落下物理
- **状態管理**: メニュー、プレイ中、ゲームオーバー間のクリーンな状態遷移
- **音響統合**: ゲームイベントに基づく動的効果音

## 🤖 AI支援開発

このプロジェクトは **Kiro AI** の支援により作成されました。以下の分野で支援を受けました：

- **アーキテクチャ設計**: モジュラーシステム設計とクラス構造
- **コード実装**: クリーンで保守可能なPythonコードの記述
- **テスト戦略**: 包括的なユニットテストカバレッジ
- **ドキュメント**: コードコメントとプロジェクトドキュメント
- **デバッグ**: 開発中の問題の特定と修正
- **パッケージ化**: 配布用の自動ビルドシステム

AIアシスタントはベストプラクティスのガイダンスを提供し、複雑なゲームメカニクスの実装を支援し、開発プロセス全体を通じてコード品質を確保しました。

## 📋 動作環境

- **Python**: 3.7以上
- **Pyxel**: 1.4.0以上
- **オペレーティングシステム**: Windows、macOS、またはLinux

## 🚀 配布方法

ゲームは以下の形式で配布できます：

1. **ソースコード**: Python + Pyxelでクローンして実行
2. **パッケージアプリ**: スタンドアロンの `.pyxapp` ファイル（`create_package.py`で作成）

## 🐛 既知の問題

- 現在報告されている問題はありません

## 🤝 コントリビューション

コントリビューションを歓迎します！お気軽にプルリクエストを送信してください。

1. リポジトリをフォーク
2. フィーチャーブランチを作成 (`git checkout -b feature/AmazingFeature`)
3. 変更をコミット (`git commit -m 'Add some AmazingFeature'`)
4. ブランチにプッシュ (`git push origin feature/AmazingFeature`)
5. プルリクエストを開く

## 📝 ライセンス

このプロジェクトはMITライセンスの下でライセンスされています - 詳細は[LICENSE](LICENSE)ファイルを参照してください。

## 🙏 謝辞

- **Pyxel**: [@kitao](https://github.com/kitao)による素晴らしいレトロゲームエンジン
- **Kiro AI**: この開発プロセスを効率的で楽しいものにしてくれたAIアシスタント
- **ぷよぷよ**: クラシックパズルゲームシリーズからのインスピレーション

## 📞 連絡先

- GitHub: [@yourusername](https://github.com/yourusername)
- プロジェクトリンク: [https://github.com/yourusername/kiro-kiro-puzzle-game](https://github.com/yourusername/kiro-kiro-puzzle-game)

---

*❤️とKiroのAI支援で作成*